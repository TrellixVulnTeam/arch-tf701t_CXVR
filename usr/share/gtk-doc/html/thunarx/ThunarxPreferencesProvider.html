<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Thunar Extensions Reference Manual: ThunarxPreferencesProvider</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Thunar Extensions Reference Manual">
<link rel="up" href="thunarx-providers.html" title="Part V. Providers">
<link rel="prev" href="ThunarxPropertyPageProvider.html" title="ThunarxPropertyPageProvider">
<link rel="next" href="ThunarxRenamerProvider.html" title="ThunarxRenamerProvider">
<meta name="generator" content="GTK-Doc V1.21 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#ThunarxPreferencesProvider.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#ThunarxPreferencesProvider.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_prerequisites">  <span class="dim">|</span> 
                  <a href="#ThunarxPreferencesProvider.prerequisites" class="shortcut">Prerequisites</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="thunarx-providers.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="ThunarxPropertyPageProvider.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="ThunarxRenamerProvider.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="ThunarxPreferencesProvider"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ThunarxPreferencesProvider.top_of_page"></a>ThunarxPreferencesProvider</span></h2>
<p>ThunarxPreferencesProvider — The interface to extensions that provide preferences</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.stability-level"></a><h2>Stability Level</h2>
<a href="http://foldoc.org/Stable"><span class="acronym">Stable</span></a>, unless otherwise indicated
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody><tr>
<td class="function_type">
<span class="returnvalue">GList</span> *
</td>
<td class="function_name">
<a class="link" href="ThunarxPreferencesProvider.html#thunarx-preferences-provider-get-actions" title="thunarx_preferences_provider_get_actions ()">thunarx_preferences_provider_get_actions</a> <span class="c_punctuation">()</span>
</td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="ThunarxPreferencesProvider.html#ThunarxPreferencesProviderIface" title="struct ThunarxPreferencesProviderIface">ThunarxPreferencesProviderIface</a></td>
</tr>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="ThunarxPreferencesProvider.html#ThunarxPreferencesProvider-struct" title="ThunarxPreferencesProvider">ThunarxPreferencesProvider</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    GInterface
    <span class="lineart">╰──</span> ThunarxPreferencesProvider
</pre>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.prerequisites"></a><h2>Prerequisites</h2>
<p>
ThunarxPreferencesProvider requires
 GObject.</p>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;thunarx/thunarx.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.description"></a><h2>Description</h2>
<p>
  The ThunarxPreferencesProvider interface is implemented by extensions that
  want to register additional actions in the preferences menu of the file
  manager. In general this should only be done by extensions that are closely
  tied to the file manager (for example, the <code class="literal">thunar-uca</code> is
  such an extension, while an extension that just adds <span class="guimenuitem">Compress
  file</span> and <span class="guimenuitem">Uncompress file</span> to the
  context menu of compressed files should not add their own preferences to
  the file manager menu, because it should use desktop-wide settings for
  archive managers instead).
</p>
<p>
  The <a href="/usr/share/gtk-doc/html/gtk3/GtkAction.html"><span class="type">GtkAction</span></a>s returned from the
  <a class="link" href="ThunarxPreferencesProvider.html#thunarx-preferences-provider-get-actions" title="thunarx_preferences_provider_get_actions ()"><code class="function">thunarx_preferences_provider_get_actions()</code></a> method must be namespaced with the
  model to avoid collision with internal file manager actions and actions provided
  by other extensions. For example, the preferences action provided by the
  <code class="literal">thunar-uca</code> extension is called
  <code class="literal">ThunarUca::manage-actions</code>.
</p>
<div class="example">
<a name="id-1.6.7.9.4"></a><p class="title"><b>Example 6. Preferences provider example</b></p>
<div class="example-contents">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">hello_preferences_provider_init</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">ThunarxPreferencesProviderIface</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">iface</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">hello_get_actions</span><span class="normal">               </span><span class="symbol">(</span><span class="usertype">ThunarxPreferencesProvider</span><span class="normal">      </span><span class="symbol">*</span><span class="normal">provider</span><span class="symbol">,</span>
<span class="normal">                                             </span><span class="usertype">GtkWidget</span><span class="normal">                       </span><span class="symbol">*</span><span class="normal">window</span><span class="symbol">);</span>
<span class="function"><a href="ThunarxProviderPlugin.html#THUNARX-DEFINE-TYPE-WITH-CODE:CAPS">THUNARX_DEFINE_TYPE_WITH_CODE</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Hello</span><span class="symbol">,</span><span class="normal"> hello</span><span class="symbol">,</span><span class="normal"> G_TYPE_OBJECT</span><span class="symbol">,</span>
<span class="normal">                               </span><span class="function"><a href="ThunarxProviderPlugin.html#THUNARX-IMPLEMENT-INTERFACE:CAPS">THUNARX_IMPLEMENT_INTERFACE</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">THUNARX_TYPE_PREFERENCES_PROVIDER</span><span class="symbol">,</span>
<span class="normal">                                                            hello_preferences_provider_init</span><span class="symbol">));</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span>
<span class="function">hello_preferences_provider_init</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">ThunarxPreferencesProviderIface</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">iface</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">  iface</span><span class="symbol">-&gt;</span><span class="normal">get_actions </span><span class="symbol">=</span><span class="normal"> hello_get_actions</span><span class="symbol">;</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span>
<span class="function">hello_activated</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">GtkWidget</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">window</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">  </span><span class="usertype">GtkWidget</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dialog</span><span class="symbol">;</span>
<span class="normal">  dialog </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="/usr/share/gtk-doc/html/gtk3/GtkMessageDialog.html#gtk-message-dialog-new">gtk_message_dialog_new</a></span><span class="normal"> </span><span class="symbol">(</span><span class="function">GTK_WINDOW</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">window</span><span class="symbol">),</span>
<span class="normal">                                   <a href="/usr/share/gtk-doc/html/gtk3/GtkDialog.html#GTK-DIALOG-MODAL:CAPS">GTK_DIALOG_MODAL</a></span>
<span class="normal">                                   </span><span class="symbol">|</span><span class="normal"> <a href="/usr/share/gtk-doc/html/gtk3/GtkDialog.html#GTK-DIALOG-DESTROY-WITH-PARENT:CAPS">GTK_DIALOG_DESTROY_WITH_PARENT</a></span><span class="symbol">,</span>
<span class="normal">                                   <a href="/usr/share/gtk-doc/html/gtk3/GtkMessageDialog.html#GTK-MESSAGE-INFO:CAPS">GTK_MESSAGE_INFO</a></span><span class="symbol">,</span>
<span class="normal">                                   <a href="/usr/share/gtk-doc/html/gtk3/GtkMessageDialog.html#GTK-BUTTONS-OK:CAPS">GTK_BUTTONS_OK</a></span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="string">"Hello World!"</span><span class="symbol">);</span>
<span class="normal">  </span><span class="function"><a href="/usr/share/gtk-doc/html/gtk3/GtkDialog.html#gtk-dialog-run">gtk_dialog_run</a></span><span class="normal"> </span><span class="symbol">(</span><span class="function">GTK_DIALOG</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dialog</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function"><a href="/usr/share/gtk-doc/html/gtk3/GtkWidget.html#gtk-widget-destroy">gtk_widget_destroy</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dialog</span><span class="symbol">);</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> GList</span><span class="symbol">*</span>
<span class="function">hello_get_actions</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">ThunarxPreferencesProvider</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">provider</span><span class="symbol">,</span>
<span class="normal">                   </span><span class="usertype">GtkWidget</span><span class="normal">                  </span><span class="symbol">*</span><span class="normal">window</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">  </span><span class="usertype">GtkAction</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">action</span><span class="symbol">;</span>
<span class="normal">  </span><span class="usertype">GClosure</span><span class="normal">  </span><span class="symbol">*</span><span class="normal">closure</span><span class="symbol">;</span>
<span class="normal">  action </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="/usr/share/gtk-doc/html/gtk3/GtkAction.html#gtk-action-new">gtk_action_new</a></span><span class="normal"> </span><span class="symbol">(</span><span class="string">"Hello::say-hello"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Say hello"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Say hello"</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
<span class="normal">  closure </span><span class="symbol">=</span><span class="normal"> </span><span class="function">g_cclosure_new_object_swap</span><span class="normal"> </span><span class="symbol">(</span><span class="function">G_CALLBACK</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">hello_activated</span><span class="symbol">),</span><span class="normal"> </span><span class="function">G_OBJECT</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">window</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">g_signal_connect_closure</span><span class="normal"> </span><span class="symbol">(</span><span class="function">G_OBJECT</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">action</span><span class="symbol">),</span><span class="normal"> </span><span class="string">"activate"</span><span class="symbol">,</span><span class="normal"> closure</span><span class="symbol">,</span><span class="normal"> TRUE</span><span class="symbol">);</span>
<span class="normal">  </span><span class="keyword">return</span><span class="normal"> </span><span class="function">g_list_prepend</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal"> action</span><span class="symbol">);</span>
<span class="cbracket">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<br class="example-break">
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="thunarx-preferences-provider-get-actions"></a><h3>thunarx_preferences_provider_get_actions ()</h3>
<pre class="programlisting"><span class="returnvalue">GList</span> *
thunarx_preferences_provider_get_actions
                               (<em class="parameter"><code><a class="link" href="ThunarxPreferencesProvider.html" title="ThunarxPreferencesProvider"><span class="type">ThunarxPreferencesProvider</span></a> *provider</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gtk3/GtkWidget.html"><span class="type">GtkWidget</span></a> *window</code></em>);</pre>
<p>Returns the list of <a href="/usr/share/gtk-doc/html/gtk3/GtkAction.html"><span class="type">GtkAction</span></a>s that <em class="parameter"><code>provider</code></em>
 has to offer
as preferences within <em class="parameter"><code>window</code></em>
. These actions will usually be added
to the builtin list of preferences in the "Edit" menu of the file
manager's <em class="parameter"><code>window</code></em>
.</p>
<p>Plugin writers that implement this interface should make sure to
choose descriptive action names and tooltips, and not to crowd the
"Edit" menu too much. That said, think twice before implementing
this interface, as too many preference actions will render the
file manager useless over time!</p>
<p>The caller is responsible to free the returned list of actions using
something like this when no longer needed:</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="function">g_list_free_full</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">list</span><span class="symbol">,</span><span class="normal"> g_object_unref</span><span class="symbol">);</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="refsect3">
<a name="id-1.6.7.10.2.8"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>provider</p></td>
<td class="parameter_description"><p>a <a class="link" href="ThunarxPreferencesProvider.html" title="ThunarxPreferencesProvider"><span class="type">ThunarxPreferencesProvider</span></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window</p></td>
<td class="parameter_description"><p>the <a href="/usr/share/gtk-doc/html/gtk3/GtkWindow.html"><span class="type">GtkWindow</span></a> within which the actions will be used.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.6.7.10.2.9"></a><h4>Returns</h4>
<p> the list of <a href="/usr/share/gtk-doc/html/gtk3/GtkAction.html"><span class="type">GtkAction</span></a>s that <em class="parameter"><code>provider</code></em>
has
to offer as preferences within <em class="parameter"><code>window</code></em>
.</p>
<p></p>
</div>
</div>
</div>
<div class="refsect1">
<a name="ThunarxPreferencesProvider.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="ThunarxPreferencesProviderIface"></a><h3>struct ThunarxPreferencesProviderIface</h3>
<pre class="programlisting">struct ThunarxPreferencesProviderIface {
  GList *(*get_actions) (ThunarxPreferencesProvider *provider,
                         GtkWidget                  *window);
};
</pre>
<p>
  Interface with virtual methods implementation by extensions that
  want to install preferences actions in the file managers menu.
</p>
<p>
  Providers don't need to implement all of the virtual methods listed
  in the interface.
</p>
<div class="refsect3">
<a name="id-1.6.7.11.2.6"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="300px" class="struct_members_name">
<col class="struct_members_description">
<col width="200px" class="struct_members_annotations">
</colgroup>
<tbody><tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="ThunarxPreferencesProviderIface.get-actions"></a>get_actions</code></em> ()</p></td>
<td class="struct_member_description"><p>See <a class="link" href="ThunarxPreferencesProvider.html#thunarx-preferences-provider-get-actions" title="thunarx_preferences_provider_get_actions ()"><code class="function">thunarx_preferences_provider_get_actions()</code></a>.</p></td>
<td class="struct_member_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="ThunarxPreferencesProvider-struct"></a><h3>ThunarxPreferencesProvider</h3>
<pre class="programlisting">typedef struct _ThunarxPreferencesProvider ThunarxPreferencesProvider;</pre>
<p>
  Preferences provider type.
</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.21</div>
</body>
</html>